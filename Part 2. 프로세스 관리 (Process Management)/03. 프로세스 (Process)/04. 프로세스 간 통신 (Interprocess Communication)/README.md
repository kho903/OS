# 3.4 프로세스 간 통신 (Interprocess Communication)
- 운영체제 내에서 실행되는 병행 프로세스들은 독립적이거나 또는 협력적인 프로세스들 일 수 있다.
- 프로세스가 시스템에서 실행 중인 다른 프로세스들과 데이터를 공유하지 않는 프로세스는 독립적이다. 
- 프로세스가 시스템에서 실행 중인 다른 프로세스들에 영향을 주거나 받는다면 이는 협력적인 프로세스들이다. 분명히 다른 프로세스들과 데이터를 공유하는 프로세스는 상호 협력적인 프로세스이다.


- 프로세스 혐력을 허용하는 환경을 제공하는 데는 몇 가지 이유가 있다.
1. 정보 공유(information sharing) : 여러 응용 프로그램이 동일한 정보(예: 복사 붙여넣기)에 관심을 가질 수 있으므로, 그러한 정보를 병행적으로 접근할 수 있는 환경을 제공해야 한다.
2. 계산 가속화(computation speedup) : 특정 태스크를 더 빠르게 실행하려면 우리는 그것을 서브태스크로 나누어 이들 각각이 다른 서브태스크들과 병렬로 실행되게 해야 한다.
이러한 가속화는 복수 개의 처리 코어를 가진 경우에만 달성할 수 있다.
3. 모듈성(modularity) : 우리는 시스템 기능을 별도의 프로세스들 또는 스레드들로 나누어, 모듈식 형태로 시스템을 구성하기를 원할 수 있다.


- 협력적 프로세스들은 데이터를 교환할 수 있는, 즉 서로 데이터를 주고 받을 수 있는 프로세스 간 통신(interprocess communication, IPC) 기법이 필요하다.
- 프로세스 간 통신에는 기본적으로 공유 메모리(shared memory)와 메시지 전달(message passing)의 두 가지 모델이 있다. 
- 공유 메모리 모델에서는 협력 프로세스들에 의해 공유되는 메모리의 영역이 구축된다. 프로세스들은 그 영역에 데이터를 읽고 쓰고 함으로써 정보를 교환할 수 있다.
- 메시지 전달 모델에서는 통신이 협력 프로세스들 사이에 교환되는 메시지를 통해 이루어진다.


- 언급된 두 모델은 운영체제에서는 통상적이며 많은 시스템이 두 가지를 모두 구현한다.
- 메시지 전달 모델은 충돌을 회피할 필요가 없기 때문에 적은 양의 데이터를 교환하는 데 유용하다. 메시지 전달은 또한 분산 시스템에서 공유 메모리보다 구현하기 쉽다. (분산 공유 메모리를 
제공하는 분산 시스템이 있지만 고려하지 않는다.)
- 메시지 전달 시스템은 통상 시스템 콜을 사용하여 구현되므로 커널 간섭 등의 부가적인 시간 소비 작업이 필요하기 때문에 공유 메모리 모델이 메시지 전달보다 더 빠르다.
- 공유 메모리 시스템에서는 공유 메모리 영역을 구축할 때만 시스템 콜이 필요하다. 공유 메모리 영역이 구축되면 모든 접근은 일반적인 메모리 접근으로 취급되어 커널의 도움이 필요 없다.


## 다중 프로세스 구조 - Chrome 브라우저
- 많은 웹사이트는 사용자들에게 풍부하고 동적인 웹 브라우징 경험을 제공하기 위해 Javascript, Flash 및 HTML5 같은 능동적 콘텐츠를 포함하고 있따.
- 불행히도 이러한 웹 응용 프로그램은 응답시간이 느려지고 웹 브라우저가 충돌할 수 있는 소프트웨어 버그도 포함될 수 있다.
- 오직 한 웹사이트의 콘텐츠만을 보여주는 웹 브라우저에서는 큰 문제가 아니지만 대부분의 현대 웹 브라우저들은 탭 형식의 브라우징을 지원하는데 웹 브라우저의 한 인스턴스가 탭마다 하나씩
동시에 여러 웹 사이트를 열 수 있게 한다.
- 서로 다른 사이트로 전환하기 위해서 사용자는 단순히 적절한 탭을 클릭하기만 하면 된다.


- 이 방식의 문제점은 탭 중 하나의 웹 응용 프로그램이 고장 나면 다른 웹 사이트를 보이는 다른 모든 탭을 포함한 전체 프로세스도 고장 난다는 것이다.
- Google의 Chrome 웹 브라우저는 다중 프로세스 구조를 활용하여 이 문제를 해결하게끔 설계되었다. Chrome은 브라우저, 렌더러, 플러그인의 세 유형의 프로세스를 구분한다.
1. 브라우저 프로세스는 사용자 인터페이스와 함께 디스크와 네트워크 입출력을 관리하는 책임을 진다. Chrome이 시작될 때 새로운 브라우저 프로세스가 생성된다. 오직 하나의 브라우저 프로세스만이
생성된다.
2. 렌더러 프로세스는 웹 페이지를 표시하기 위한 프로그램 논리를 포함한다. 따라서 HTML, Javascript, 이미지 등을 처리하기 위한 프로그램 논리를 포함한다. 일반적으로 새 탭에서 열린
웹사이트마다 새로운 렌더러 프로세스가 생성되고 여러 렌더러 프로세스가 동시에 활동하게 된다.
3. 플러그인 프로세스는 Flash 또는 QuickTime과 같이 사용 중인 플러그인 종류마다 생성된다. 플러그인 프로세스는 플러그인을 위한 코드뿐 아니라 플러그인이 연관된 렌더러 프로세스와
브라우저 프로세스와 통신할 수 있게 하는 코드를 포함하고 있다.

- 다중 프로세스 방식의 이점은 웹사이트가 다른 웹사이트가 서로 격리되어 실행된다는 것이다. 만일 한 웹사이트가 갑자기 고장 나면 오직 해당 렌터러 프로세스만 영향을 받고 나머지 프로세스는
손해를 입지 않게 된다. 게다가 렌더러 프로세스는 샌드박스 안에서 실행되는데, 이는 보안 취약점의 영향을 최소화하기 위해 디스크와 네트워크 입출력에 대한 접근이 제한되다는 것을 의미한다.
